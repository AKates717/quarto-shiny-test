---
title: "Quarto & Shiny: Interactive Documents"
format: html
server: shiny
---



::: banner

Made with ‚ù§Ô∏è using Quarto & Shiny

:::


::: textbox

This is a little test demonstration of how to combine Quarto and Shiny to create interactive text documents.
You know, for those cases where you need interactive elements to play around with but your UI is mostly text.

:::

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque venenatis lectus vel tincidunt sagittis.
Phasellus vulputate libero vitae bibendum tincidunt.
Curabitur pharetra, tortor quis bibendum facilisis, arcu metus consequat nisi, et ultrices risus nibh at ligula.
Nulla tempor, justo sit amet sollicitudin sodales, est arcu dapibus nulla, eu suscipit augue mi finibus nibh.
Quisque eget imperdiet neque. 
Curabitur justo mauris, elementum et tortor vitae, sollicitudin condimentum nisl. 
Vestibulum volutpat sapien ultricies ante rutrum, id tincidunt mi viverra. 
Quisque sodales ullamcorper quam.

---



### Extra information {style="margin-bottom: 30px;"}


::: column-page

```{r}
tib_tags <- tibble::tibble(
  headings = c(
    'Cool stuff üöÄ',
    'More cool stuff üí∞',
    'Another cool thing ‚öôÔ∏è',
    'Extra super cool thing üí°',
    'A fifth cool thing, yay üß≤'
  ),
  text = 'Duis imperdiet, est vitae mollis porttitor, neque metus ornare urna, a ullamcorper dolor sem at tellus.' 
) |> 
  dplyr::mutate(
    headings = purrr::map(
      headings, 
      \(x) htmltools::div(htmltools::strong(x))
    ),
    text = purrr::map(
      text, 
      htmltools::div
    ),
    combined = purrr::map2(
      headings,
      text,
      \(x, y) htmltools::div(
        style = htmltools::css(
          width = '300px',
          margin_right = '20px',
          margin_bottom = '20px'
        ),
        x, 
        y
      )
    )
  )
htmltools::div(
  style = htmltools::css(
    display = 'flex',
    flex_wrap = 'wrap'
  ),
  tib_tags$combined
)
```

:::


---

### Interactive part

```{r}
#| context: setup
#| message: false
#| warning: false
library(bslib)
library(ggplot2)
```


```{r}
#| column: page
layout_sidebar(
  height = 600,
  sidebar =  sidebar(
    shiny::selectizeInput(
      'select_species', 
      'Highlighted Species', 
      choices = c('Adelie', 'Chinstrap', 'Gentoo'),
      selected = c('Adelie', 'Chinstrap', 'Gentoo'),
      multiple = TRUE
    ),
    shiny::sliderInput(
      'slider_weight',
      'Minimum Weight (g)',
      min = 1000,
      max = 5000,
      value = 3000
    )
  ),
  shiny::plotOutput('output_plot')
)
```

```{r}
#| context: server
output$output_plot <- shiny::renderPlot({
  palmerpenguins::penguins |> 
    dplyr::filter(
      species %in% input$select_species,
      body_mass_g >= input$slider_weight
    ) |> 
    ggplot(
      aes(
        x = bill_length_mm, 
        y = flipper_length_mm, 
        fill = species
      )
    ) +
    geom_point(
      shape = 21, 
      size = 6, 
      col = 'black'
    ) +
    labs(
      x = 'Bill length (in mm)',
      y = 'Flipper length (in mm)',
      fill = 'Species',
      title = 'Penguins from the Palmer Archipelago'
    ) +
    theme_minimal(
      base_size = 20, 
      base_family = 'Source Sans Pro'
    ) +
    scale_fill_manual(
      values = c(
        Adelie = '#0072B2', 
        Gentoo = '#009E73',
        Chinstrap = '#CC79A7'
      ),
    ) +
    coord_cartesian(
      xlim = c(30, 60), 
      ylim = c(170, 240)
    )
})
```



---

### Contact info


You can reach me via [mail@example.com](mailto:mail@example.com).